# Jest 테스트에서 확인하는 것 (검증 범위)

시험 모드(TestModePage)와 암기 모드(MemorizeModePage) 관련 Jest 테스트가 **무엇을 검증하는지** 정리한 문서입니다.

- **구조:** GWT(Given-When-Then) 패턴, 비즈니스 행위 중심 명세  
- **픽스처:** `__tests__/fixtures/exam-test-fixture.ts` (준비/실행/검증 헬퍼)  
- **패턴 비교·선택 근거:** [TEST-PATTERNS-AAA-VS-GWT.md](./TEST-PATTERNS-AAA-VS-GWT.md)

---

## 1. 시험 모드 (TestModePage) — 단위 테스트

**파일:** `apps/web/src/app/components/exam/__tests__/TestModePage.test.tsx`

| 테스트 명세 (비즈니스 행위) | 확인하는 것 |
|----------------------------|-------------|
| 시험 문제를 불러오는 동안에는 사용자에게 로딩 안내 문구가 보인다 | 로딩 중 "문제를 불러오는 중" 문구 노출 |
| 문제를 불러오는데 실패하면 사용자에게 에러 안내가 보인다 | API 실패 시 "문제를 불러오는데 실패했습니다" 노출 |
| 시험 정보가 없으면 사용자에게 올바르지 않다는 안내가 보인다 | yearId 없을 때 "시험 정보가 올바르지 않습니다" 노출 |
| 사용자가 답안을 선택하면 해당 보기가 선택된 것처럼 보인다 | 답 선택 시 해당 보기 선택 상태(aria-checked) 반영 |
| 첫 번째 문제에서는 이전 버튼이 비활성화되고, 마지막 문제에서는 다음 버튼이 비활성화된다 | 이전/다음 버튼 활성·비활성 상태 |
| 사용자가 시험을 종료하면 시험 결과 화면과 획득 점수가 보인다 | 제출 후 "시험 결과"·"획득 점수" 화면 노출 |
| 문제 목록이 비어 있으면 사용자에게 에러 안내가 보인다 | 문제 0개일 때 에러 문구 노출 |
| 이전/다음 버튼을 빠르게 연타해도 현재 문제 위치가 깨지지 않고, 첫 문제에서 이전은 비활성화된 상태로 유지된다 | 연타 시 인덱스·버튼 상태 유지 |

---

## 2. 시험 모드 (TestModePage) — 통합 테스트

**파일:** `apps/web/src/app/components/exam/__tests__/TestModePage.integration.test.tsx`

| 테스트 명세 (비즈니스 행위) | 확인하는 것 |
|----------------------------|-------------|
| 사용자가 여러 문제에 답을 선택한 뒤 시험을 종료하면 시험 결과 화면과 획득 점수가 보인다 | 제출 → 결과 화면 전환 흐름 |
| 시험을 제출한 뒤 결과 화면에서 문제 번호(네비게이터)가 보이고, 제출된 상태가 반영되어 보인다 | 결과 화면에서 문제 번호 버튼 노출·상태 반영 |

---

## 3. 암기 모드 (MemorizeModePage) — 단위 테스트

**파일:** `apps/web/src/app/components/exam/__tests__/MemorizeModePage.test.tsx`

| 테스트 명세 (비즈니스 행위) | 확인하는 것 |
|----------------------------|-------------|
| 문제를 불러오는 동안에는 사용자에게 로딩 안내 문구가 보인다 | 로딩 중 "문제를 불러오는 중" 문구 노출 |
| 문제를 불러오는데 실패하면 사용자에게 에러 안내가 보인다 | API 실패 시 에러 문구 노출 |
| 사용자가 답안을 선택하면 해당 보기가 선택된 것처럼 보인다 | 답 선택 시 선택 상태 반영 |
| 사용자가 답을 선택한 뒤 정답 보기를 누르면 해설이 보인다 | 정답 보기 클릭 후 "해설" 영역 노출 |
| 다음 문제로 갔다가 이전으로 돌아오면 해당 문제의 정답 보기 상태와 해설이 그대로 복원되어 보인다 | 이전/다음 이동 시 기억된 답·해설 복원 |
| 사용자가 문제 다시 풀기를 누르면 선택과 해설이 사라지고 처음 상태로 돌아간 것처럼 보인다 | 문제 다시 풀기 시 선택 해제·해설 숨김 |
| 화면 상단 Breadcrumb에 과목명과 연도가 올바르게 보인다 | Breadcrumb에 과목·연도 표시 |

---

## 4. 암기 모드 (MemorizeModePage) — 통합 테스트

**파일:** `apps/web/src/app/components/exam/__tests__/MemorizeModePage.integration.test.tsx`

| 테스트 명세 (비즈니스 행위) | 확인하는 것 |
|----------------------------|-------------|
| 사용자가 답을 선택한 뒤 정답 보기를 누르면 정답 보기 버튼이 비활성화되고 해설이 보인다 | 정답 보기 후 버튼 비활성화·해설 노출 |
| 정답 보기를 본 뒤 다음 문제로 갔다가 이전으로 돌아오면, 해당 문제의 해설과 정답 보기 상태가 그대로 복원되어 보인다 | 이동 후 기억된 해설·상태 복원 |

---

## 5. 공통

- **픽스처:** `__tests__/fixtures/exam-test-fixture.ts`  
  - Given: `givenExamIsLoading`, `givenExamHasError`, `givenExamDataIsReady` 등  
  - When: `whenUserClicksAnswer`, `whenUserClicksNext`, `whenUserEndsExam` 등  
  - Then: `thenUserSeesLoadingMessage`, `thenUserSeesResultScreen` 등  
- **Mock:** `@/modules/exam` → `__mocks__/exam.ts`  
- **검증:** 구현(함수 호출 등)이 아닌 **사용자가 보는 결과**(문구, 버튼 상태, 화면 전환) 위주

이 문서는 위 테스트들이 **어떤 비즈니스 행위/결과를 확인하려고 작성되었는지**를 요약한 것입니다.
